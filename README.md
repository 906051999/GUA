# GUA（赛博算卦）— AI 落地指南

本文用于把「赛博算卦」项目的目标、边界、体验与设计要点交代清楚，方便后续任何 AI/开发者按同一理解落地实现。本文刻意不包含具体代码与具体目录结构，只描述“要做什么 / 为什么做 / 做到什么程度算完成”。

## 一句话定义

一个“赛博修真（Cyber‑Taoism）”风格的占测应用：用户输入极少信息，系统在浏览器本地进行多维推演，输出极短且明确的结论；在用户触发时，可联网请求大模型对结论做进一步解读。

## 核心理念（必须贯彻）

**输入极简，过程极繁，输出极决。**

- 输入必须克制：只允许 3 项信息
- 过程必须有“仪式感”：用户能感知系统在推演，但不展示冗长计算细节
- 输出必须“短、冷、准”：只给结论，不讲大道理

## 产品流程（四段式）

- 输入：收集三项信息（问题文本 / 起卦时间 / 可选昵称）
- 计算：前端本地运行“多模态玄学融合引擎”，同时进入强视觉 Loading 态
- 输出：只展示三项结果（判词 / 评分 / 偈语），并用 Glitch 动效呈现“天机显现”
- 解读（可选）：用户点击“解读”后才联网，把摘要信息交给后端，由后端调用大模型返回解读文本

## 体验与视觉（赛博修真）

目标是“神龛式终端”：居中对称、强对比、像在一台古老而高能的终端上问卜。

- 配色：深空黑为底，霓虹青为主高亮，朱砂红用于凶/警示，烫金用于神性强调
- 字体：标题偏宋/楷（传统感），正文偏等宽（代码感）
- 必备动效：
  - 按钮点击要像“印章盖下”
  - 计算过程要有持续的可感知动效（罗盘/八卦阵/代码雨等，优先 Canvas）
  - 结果出现要有 Glitch 闪烁，强化冲击

## 推演引擎（项目灵魂）

推演引擎的目标不是“随机给答案”，而是用多个信号源在本地生成一个可复现、可调参、看起来专业的综合结果。

### 输入（概念）

- 问题文本
- 起卦时间（可由用户修改）
- 可选昵称
- 微熵信息（来自用户交互的细微扰动；只在本地使用）

### 输出（必须极简，但允许携带摘要）

- 展示给用户的（严格仅三项）：
  - Verdict：4–8 字判词（示例：大吉，宜速战 / 凶，宜守静 / 平，待时机）
  - Score：0–100 分能量值
  - Poem：一句签文/箴言（古风或赛博风均可，但必须短）
- 用于“解读”的（默认不展示）：结构化摘要（时间维度结论、卦象信息、数理信息、熵种子等），用于让大模型生成更长解读

### 必须融合的信号维度（至少 5 类）

每一类都要参与结果形成，并存在可配置权重（方便后续调参）：

- 时间维度：基于起卦时间推干支四柱，得到五行强弱趋势
- 文字维度：对问题文本做数理化（Unicode 汇总、笔画/近似笔画、外应数等）
- 易经维度：用梅花易数思路起卦，得到本卦/互卦/变卦，并产出趋吉避凶倾向
- 数理维度：用西方 numerology 思路得到能量值（生命数字/核心数等）
- 随机扰动：引入微熵作为“天机变数”，但必须是微扰而不是主导

专业性要求：

- 历法/卦象建议使用成熟库确保计算可靠（例如 lunar-javascript）
- 引擎应做到“同一输入在同一设备上结果稳定或近似稳定”，微熵只负责打破边界与增强仪式感

## 联网解读（可选但要预留）

解读不是主流程的必要条件，但需要从第一天就把边界想清楚：

- 默认不联网：输入→推演→输出全本地完成
- 用户触发才联网：必须由用户显式点击“解读”
- 后端代理调用：前端不持有模型 Key；后端读取环境变量并调用模型
- 数据最小化：只发送“问题文本 + 推演摘要 + 展示结果”，昵称可默认不传或脱敏

## 约束与底线（不可破）

- 输出克制：禁止在“输出”阶段出现长篇解释；解释只能在“解读”阶段出现
- 隐私优先：推演数据默认不出浏览器；联网仅发生在用户触发解读时
- 性能与流畅：推演与动效不能卡顿；长计算必须让 UI 保持响应
- 合规提示：页面底部必须显示免责声明文案

## 完成标准（验收清单）

- 输入页严格只有 3 个输入项
- 点击开始后进入“可感知的推演态”，动效持续且不掉帧
- 推演完成后只展示三项结果（判词/评分/偈语），并有结果出现动效
- 提供可选“解读”入口：用户触发后才联网，并能返回一段解读文本
- 页面底部包含免责声明

## 免责声明

本项目仅供娱乐与传统文化研究，切勿迷信。
